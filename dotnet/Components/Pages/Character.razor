@page "/character"
@inject PlayerCharacterService CharService

<div class="container mt-4">
  <h2>@Char.Name — Level @Char.Level — @Char.Race</h2>


  <!-- Stats -->
  <div class="row mt-3">
    @if(Char?.Stats != null){
    <span>Testing </span>
    @foreach (var stat in Char.Stats) {
    <div class="col-6 col-md-2 mb-2">
      <div class="card text-center">
        <div class="card-header text-uppercase">@stat.Name</div>
        <div class="card-body">
          <p class="card-text color-white h4" style="color: white !important">@stat.Value</p>
        </div>
      </div>
    </div>
    } }
  </div>

  @if(Char?.Gauges != null){
  <!-- Globes -->
  <div class="row mt-4">
    @foreach (var gauge in Char.Gauges) {
   <div class="card flex-grow-5 p-10 m-10 mw-25 m-bottom-10">
      <div class="card-header">@gauge.Name</div>

      <div class="card-body">
        <div class="orb m-auto m-bottom-10">
          <progress
            class="orb-@(gauge.Colour)"
            value="@gauge.Value"
            max="@gauge.Max"
          ></progress>
        </div>

        <div class="flex-row m-auto">
          <div class="m-auto">@gauge.Value</div>
          <div class="m-auto">|</div>

          <div class="m-auto">@gauge.Max</div>
        </div>
      </div>
    </div>




    
    }
  </div>

  } @if(Char?.Statuses != null){
  <!-- Statuses -->
  <div class="row mt-4">
    <div class="col">
      <div class="card">
        <ul class="list-group list-group-flush">
          @foreach (var status in Char.Statuses) {
          <li
            class="list-group-item d-flex justify-content-between align-items-center"
          >
            <span>@status.DisplayName</span>
            <span>
              @if (!string.IsNullOrEmpty(status.Symbol)) { @status.Symbol }
              @status.Value
            </span>
          </li>
          }
        </ul>
      </div>
    </div>
  </div>

  }
</div>

@code { PlayerCharacter Char; protected override void OnInitialized() { Char =
CharService.GetById(1); } }
